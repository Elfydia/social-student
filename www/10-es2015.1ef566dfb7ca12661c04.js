(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"3im5":function(e,t,r){"use strict";r.r(t),r.d(t,"AuthorizationsModule",(function(){return B}));var i=r("ofXK"),o=r("tyNb"),n=r("fXoL"),s=r("TEn/");let b=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Bb({type:e,selectors:[["app-authorizations"]],decls:14,vars:0,consts:[["slot","bottom"],["tab","entry"],["name","home"],["tab","login"],["tab","register"],["name","settings"]],template:function(e,t){1&e&&(n.Kb(0,"ion-tabs"),n.Kb(1,"ion-tab-bar",0),n.Kb(2,"ion-tab-button",1),n.Kb(3,"ion-label"),n.dc(4,"Home"),n.Jb(),n.Ib(5,"ion-icon",2),n.Jb(),n.Kb(6,"ion-tab-button",3),n.Kb(7,"ion-label"),n.dc(8,"Login"),n.Jb(),n.Ib(9,"ion-icon",2),n.Jb(),n.Kb(10,"ion-tab-button",4),n.Kb(11,"ion-label"),n.dc(12,"Register"),n.Jb(),n.Ib(13,"ion-icon",5),n.Jb(),n.Jb(),n.Jb())},directives:[s.p,s.n,s.o,s.i,s.f],styles:[""]}),e})(),c=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Bb({type:e,selectors:[["app-toolbar"]],inputs:{title:"title"},decls:4,vars:1,template:function(e,t){1&e&&(n.Kb(0,"ion-header"),n.Kb(1,"ion-toolbar"),n.Kb(2,"ion-title"),n.dc(3),n.Jb(),n.Jb(),n.Jb()),2&e&&(n.xb(3),n.ec(t.title))},directives:[s.e,s.r,s.q],styles:[""]}),e})(),a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Bb({type:e,selectors:[["app-entry"]],decls:4,vars:1,consts:[[3,"title"],[1,"ion-padding"]],template:function(e,t){1&e&&(n.Ib(0,"app-toolbar",0),n.Kb(1,"ion-content",1),n.Kb(2,"h2"),n.dc(3," Welcome on Social Student ! "),n.Jb(),n.Jb()),2&e&&n.Xb("title","Home")},directives:[c,s.d],styles:[""]}),e})();var d=r("AytR"),l=r("vkgz"),u=r("tk/3"),g=r("f4AX");let m=(()=>{class e{constructor(e,t){this.http=e,this.userService=t}register(e){return this.http.post(d.a.api.register,{username:e.get("username").value,email:e.get("email").value,password:e.get("pswd").value}).pipe(Object(l.a)(()=>{console.log("OK")}))}login(e){return this.http.post(d.a.api.login,{email:e.get("email").value,password:e.get("pswd").value}).pipe(Object(l.a)(e=>{this.userService.set(e)}))}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(u.b),n.Ob(g.a))},e.\u0275prov=n.Db({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();var p=r("3Pt+");let f=(()=>{class e{constructor(){}validate(e){return e.dirty?(this.subscription||(this.subscription=e.root.get("pswd").valueChanges.subscribe(()=>e.updateValueAndValidity())),e.root.get("pswd").value!==e.value?{repeatedPassword:!0}:null):(this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),null)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Cb({type:e,selectors:[["","appRepeatedPassword",""]],features:[n.wb([{provide:p.e,useExisting:e}])]}),e.\u0275prov=n.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),h=(()=>{class e{constructor(e,t){this.fb=e,this.repeatedPasswordValidator=t}createRegisterForm(){return this.form=this.fb.group({email:["",p.k.compose([p.k.required,p.k.email])],pswd:["",p.k.compose([p.k.required,p.k.pattern("[0-9a-z-A-Z@.#*$!?&+-/]*")])],checkPswd:["",[p.k.required,p.k.pattern("[0-9a-z-A-Z@.#*$!?&+-/]*"),this.repeatedPasswordValidator]],username:["",[p.k.compose([p.k.required,p.k.pattern("[0-9a-z-A-Z@.#*$!?&+-/]*")])]]}),this.form}createLoginForm(){return this.form=this.fb.group({email:["",p.k.compose([p.k.required,p.k.email])],pswd:["",p.k.compose([p.k.required,p.k.pattern("[0-9a-z-A-Z@.#*$!?&+-/]*")])]}),this.form}get email(){return this.form.get("email")}get pswd(){return this.form.get("pswd")}get checkPswd(){return this.form.get("checkPswd")}get username(){return this.form.get("username")}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(p.a),n.Ob(f))},e.\u0275prov=n.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),v=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function w(e,t){if(1&e&&(n.Kb(0,"div"),n.Kb(1,"ion-note",7),n.dc(2),n.Jb(),n.Jb()),2&e){const e=n.Ub();n.xb(2),n.ec(e.msgError)}}function I(e,t){1&e&&(n.Kb(0,"ion-note",7),n.dc(1,"An Email is required"),n.Jb())}function J(e,t){if(1&e&&(n.Kb(0,"div"),n.cc(1,I,2,0,"ion-note",8),n.Jb()),2&e){const e=n.Ub();n.xb(1),n.Xb("ngIf",e.loginForm.get("email").errors)}}function K(e,t){1&e&&(n.Kb(0,"ion-note",7),n.dc(1,"A Password is required"),n.Jb())}function k(e,t){if(1&e&&(n.Kb(0,"div"),n.cc(1,K,2,0,"ion-note",8),n.Jb()),2&e){const e=n.Ub();n.xb(1),n.Xb("ngIf",e.loginForm.get("pswd").errors)}}function F(e,t){if(1&e&&(n.Kb(0,"div"),n.Kb(1,"ion-button",9),n.Ib(2,"ion-icon",10),n.dc(3," Login "),n.Jb(),n.Jb()),2&e){const e=n.Ub();n.xb(1),n.Xb("disabled",!e.loginForm.valid)}}function y(e,t){1&e&&(n.Kb(0,"div"),n.Ib(1,"ion-spinner",11),n.Jb())}function X(e,t){if(1&e&&(n.Kb(0,"div"),n.Kb(1,"ion-note",11),n.dc(2),n.Jb(),n.Jb()),2&e){const e=n.Ub();n.xb(2),n.ec(e.msgError)}}function x(e,t){1&e&&(n.Kb(0,"ion-note",11),n.dc(1,"An Email is required"),n.Jb())}function P(e,t){1&e&&(n.Kb(0,"ion-note",11),n.dc(1,"An Email is needed here"),n.Jb())}function S(e,t){if(1&e&&(n.Kb(0,"div"),n.cc(1,x,2,0,"ion-note",12),n.cc(2,P,2,0,"ion-note",12),n.Jb()),2&e){const e=n.Ub();n.xb(1),n.Xb("ngIf",e.registerForm.get("email").hasError("required")),n.xb(1),n.Xb("ngIf",e.registerForm.get("email").hasError("email"))}}function E(e,t){1&e&&(n.Kb(0,"ion-note",11),n.dc(1,"A Password is required"),n.Jb())}function q(e,t){if(1&e&&(n.Kb(0,"div"),n.cc(1,E,2,0,"ion-note",12),n.Jb()),2&e){const e=n.Ub();n.xb(1),n.Xb("ngIf",e.registerForm.get("pswd").hasError("required"))}}function A(e,t){1&e&&(n.Kb(0,"ion-note",11),n.dc(1,"A Password is required"),n.Jb())}function O(e,t){1&e&&(n.Kb(0,"ion-note",11),n.dc(1,"Passwords are different."),n.Jb())}function H(e,t){if(1&e&&(n.Kb(0,"div"),n.cc(1,A,2,0,"ion-note",12),n.cc(2,O,2,0,"ion-note",12),n.Jb()),2&e){const e=n.Ub();n.xb(1),n.Xb("ngIf",e.registerForm.get("checkPswd").hasError("required")),n.xb(1),n.Xb("ngIf",e.registerForm.get("checkPswd").hasError("repeatedPassword"))}}function C(e,t){1&e&&(n.Kb(0,"ion-note",11),n.dc(1,"A Username is required"),n.Jb())}function U(e,t){if(1&e&&(n.Kb(0,"div"),n.cc(1,C,2,0,"ion-note",12),n.Jb()),2&e){const e=n.Ub();n.xb(1),n.Xb("ngIf",e.registerForm.get("username").hasError("required"))}}const N=[{path:"",component:b,children:[{path:"entry",component:a},{path:"login",component:(()=>{class e{constructor(e,t,r,i){this.authHttpService=e,this.router=t,this.registerFormService=r,this.loadingService=i}ngOnInit(){this.loginForm=this.registerFormService.createLoginForm()}login(){this.authHttpService.login(this.loginForm).subscribe(()=>this.router.navigate(["/contacts","dashboard"]),()=>console.log(this.msgError+"login() component"))}}return e.\u0275fac=function(t){return new(t||e)(n.Hb(m),n.Hb(o.g),n.Hb(h),n.Hb(v))},e.\u0275cmp=n.Bb({type:e,selectors:[["app-login"]],decls:18,vars:7,consts:[[3,"title"],[1,"ion-padding"],[4,"ngIf"],[3,"formGroup","ngSubmit"],["position","stacked"],["type","email","formControlName","email"],["type","password","formControlName","pswd"],["color","danger"],["color","danger",4,"ngIf"],["type","submit",3,"disabled"],["name","checkmark"],["name","bubbles"]],template:function(e,t){1&e&&(n.Ib(0,"app-toolbar",0),n.Kb(1,"ion-content",1),n.cc(2,w,3,1,"div",2),n.Ib(3,"br"),n.Kb(4,"form",3),n.Sb("ngSubmit",(function(){return t.login()})),n.Kb(5,"ion-item"),n.Kb(6,"ion-label",4),n.dc(7,"Email"),n.Jb(),n.Ib(8,"ion-input",5),n.cc(9,J,2,1,"div",2),n.Jb(),n.Ib(10,"br"),n.Kb(11,"ion-item"),n.Kb(12,"ion-label",4),n.dc(13,"Password"),n.Jb(),n.Ib(14,"ion-input",6),n.cc(15,k,2,1,"div",2),n.Jb(),n.cc(16,F,4,1,"div",2),n.cc(17,y,2,0,"div",2),n.Jb(),n.Jb()),2&e&&(n.Xb("title","Login"),n.xb(2),n.Xb("ngIf",t.msgError),n.xb(2),n.Xb("formGroup",t.loginForm),n.xb(5),n.Xb("ngIf",t.loginForm.get("email").invalid&&(t.loginForm.get("email").dirty||t.loginForm.get("email").touched)),n.xb(6),n.Xb("ngIf",t.loginForm.get("pswd").invalid&&(t.loginForm.get("pswd").dirty||t.loginForm.get("pswd").touched)),n.xb(1),n.Xb("ngIf",!t.loadingService.login),n.xb(1),n.Xb("ngIf",t.loadingService.login))},directives:[c,s.d,i.i,p.l,p.i,p.c,s.h,s.i,s.g,s.w,p.h,p.b,s.k,s.b,s.f,s.m],styles:[""]}),e})()},{path:"register",component:(()=>{class e{constructor(e,t,r){this.authHttpService=e,this.routerService=t,this.registerFormService=r}ngOnInit(){this.registerForm=this.registerFormService.createRegisterForm()}register(){this.authHttpService.register(this.registerForm).subscribe(()=>this.routerService.navigate(["/auth","login"]))}}return e.\u0275fac=function(t){return new(t||e)(n.Hb(m),n.Hb(o.g),n.Hb(h))},e.\u0275cmp=n.Bb({type:e,selectors:[["app-register"]],decls:32,vars:8,consts:[[3,"title"],[1,"ion-padding"],[4,"ngIf"],[3,"formGroup","ngSubmit"],["position","stacked"],["formControlName","email"],["type","password","formControlName","pswd"],["type","password","formControlName","checkPswd"],["type","text","formControlName","username"],["type","submit",3,"disabled"],["name","checkmark"],["color","danger"],["color","danger",4,"ngIf"]],template:function(e,t){1&e&&(n.Ib(0,"app-toolbar",0),n.Kb(1,"ion-content",1),n.cc(2,X,3,1,"div",2),n.Ib(3,"br"),n.Kb(4,"form",3),n.Sb("ngSubmit",(function(){return t.register()})),n.Kb(5,"ion-item"),n.Kb(6,"ion-label",4),n.dc(7,"Email"),n.Jb(),n.Ib(8,"ion-input",5),n.cc(9,S,3,2,"div",2),n.Jb(),n.Ib(10,"br"),n.Kb(11,"ion-item"),n.Kb(12,"ion-label",4),n.dc(13,"Password"),n.Jb(),n.Ib(14,"ion-input",6),n.cc(15,q,2,1,"div",2),n.Jb(),n.Ib(16,"br"),n.Kb(17,"ion-item"),n.Kb(18,"ion-label",4),n.dc(19,"Verify Password"),n.Jb(),n.Ib(20,"ion-input",7),n.cc(21,H,3,2,"div",2),n.Jb(),n.Ib(22,"br"),n.Kb(23,"ion-item"),n.Kb(24,"ion-label",4),n.dc(25,"Username"),n.Jb(),n.Ib(26,"ion-input",8),n.cc(27,U,2,1,"div",2),n.Jb(),n.Ib(28,"br"),n.Kb(29,"ion-button",9),n.Ib(30,"ion-icon",10),n.dc(31," Register "),n.Jb(),n.Jb(),n.Jb()),2&e&&(n.Xb("title","Registration"),n.xb(2),n.Xb("ngIf",t.msgError),n.xb(2),n.Xb("formGroup",t.registerForm),n.xb(5),n.Xb("ngIf",t.registerForm.get("email").invalid&&(t.registerForm.get("email").dirty||t.registerForm.get("email").touched)),n.xb(6),n.Xb("ngIf",t.registerForm.get("pswd").invalid&&(t.registerForm.get("pswd").dirty||t.registerForm.get("pswd").touched)),n.xb(6),n.Xb("ngIf",t.registerForm.get("checkPswd").invalid&&(t.registerForm.get("checkPswd").dirty||t.registerForm.get("checkPswd").touched)),n.xb(6),n.Xb("ngIf",t.registerForm.get("username").invalid&&(t.registerForm.get("username").dirty||t.registerForm.get("username").touched)),n.xb(2),n.Xb("disabled",!t.registerForm.valid))},directives:[c,s.d,i.i,p.l,p.i,p.c,s.h,s.i,s.g,s.w,p.h,p.b,s.b,s.f,s.k],styles:[""]}),e})()},{path:"**",redirectTo:"entry"}]}];let z=(()=>{class e{}return e.\u0275mod=n.Fb({type:e}),e.\u0275inj=n.Eb({factory:function(t){return new(t||e)},imports:[[o.i.forChild(N)],o.i]}),e})();var R=r("PCNd"),j=r("JIr8");let L=(()=>{class e{constructor(){}intercept(e,t){let r=null;return d.a.api.login===e.url?(r="login",t.handle(e).pipe(Object(j.a)(e=>{let t="Network Problem";throw 404===e.status&&(t=e.error.error),400===e.status&&(t=e.error.error),500===e.status&&(t="unvailable Service"),t}))):d.a.api.register===e.url?(r="register",t.handle(e).pipe(Object(j.a)(e=>{let t="Network Problem";throw 409===e.status&&(t=e.error.error),400===e.status&&(t=e.error.error),500===e.status&&(t="unvailable Service"),t}))):t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Db({token:e,factory:e.\u0275fac}),e})(),B=(()=>{class e{}return e.\u0275mod=n.Fb({type:e}),e.\u0275inj=n.Eb({factory:function(t){return new(t||e)},providers:[{provide:u.a,useClass:L,multi:!0}],imports:[[i.b,R.a,z]]}),e})()}}]);