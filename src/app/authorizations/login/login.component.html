<app-toolbar [title]=" 'Login' "></app-toolbar>

<ion-content class="ion-padding">

  <div *ngIf="msgError">
    <ion-note color="danger">{{msgError}}</ion-note>
  </div>

  <br>

<form [formGroup]="loginForm" (ngSubmit)="login()">
  <ion-item>
    <ion-label position="stacked">Email</ion-label>
    <ion-input type="email" formControlName="email"></ion-input>
    <div *ngIf="loginForm.get('email').invalid && (loginForm.get('email').dirty || loginForm.get('email').touched)">
      <ion-note *ngIf="loginForm.get('email').errors" color="danger">An Email is required</ion-note>
    </div>
  </ion-item>
  <br>
  <ion-item>
    <ion-label position="stacked">Password</ion-label>
    <ion-input type="password" formControlName="pswd"></ion-input>
    <div *ngIf="loginForm.get('pswd').invalid && (loginForm.get('pswd').dirty || loginForm.get('pswd').touched)">
      <ion-note *ngIf="loginForm.get('pswd').errors" color="danger">A Password is required</ion-note>
    </div>
  </ion-item>
  
  <div *ngIf="!loadingService.login">
    <ion-button [disabled]="!loginForm.valid" type="submit">
      <ion-icon name="checkmark"></ion-icon>
        Login
    </ion-button>
  </div>

  <div *ngIf="loadingService.login">
    <ion-spinner name="bubbles"></ion-spinner>
  </div>
    
    
  
</form>
</ion-content>
